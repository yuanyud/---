<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>修改密码</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 300px; margin: auto; padding: 20px; border: 1px solid #ddd; }
        .input-group { margin-bottom: 10px; }
        .input-group input { width: 100%; padding: 10px; margin-top: 5px; }
        .input-group button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <h2>修改密码</h2>
    <div class="input-group">
        <label for="newPassword">新密码</label>
        <input type="password" id="newPassword" placeholder="请输入新密码">
    </div>
    <div class="input-group">
        <label for="confirmPassword">确认新密码</label>
        <input type="password" id="confirmPassword" placeholder="请再次输入新密码">
    </div>
    <div class="input-group">
        <label for="email">电子邮箱</label>
        <input type="email" id="email" placeholder="请输入电子邮箱">
    </div>
    <div class="input-group">
        <button onclick="changePassword()">提交</button>
    </div>
</div>

<script>
    function changePassword() {
        var newPassword = document.getElementById('newPassword').value;
        var confirmPassword = document.getElementById('confirmPassword').value;
        var email = document.getElementById('email').value;
        if (newPassword !== confirmPassword) {
            alert('两次密码不一致');
            return;
        }
        if (!/\d/.test(newPassword) || !/[a-zA-Z]/.test(newPassword) || newPassword.length < 6) {
            alert('密码要数字和字母组成，且长度要大于六位');
            return;
        }
        if (!/@/.test(email)) {
            alert('请输入正确的电子邮箱');
            return;
        }
        // 更新localStorage中的密码
        localStorage.setItem('password', newPassword);
        // 设置密码已修改的标记
        localStorage.setItem('passwordChanged', String(true));
        alert('密码修改成功，请重新登录！');
        window.location.href = 'sign.html';
    }
</script>

</body>
</html>
